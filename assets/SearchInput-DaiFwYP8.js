import{y as m,c as o,o as r,a,e as y,z as h,x as p,F as f,d as g,t as l}from"./index-CplUbzs2.js";const v={class:"bg-white border border-sky-600/30 rounded-lg shadow-lg flex items-center"},w={class:"bg-white my-2 rounded-lg shadow-lg"},_={key:0},k=["onClick"],j={__name:"SearchInput",emits:["place-data"],setup(x,{emit:i}){const u=i,e=m({query:"",timeout:null,results:null}),d=()=>{clearTimeout(e.timeout),e.timeout=setTimeout(async()=>{if(e.query!==""){const s=await(await fetch(`https://api.weatherapi.com/v1/search.json?key=355022d7f3db4659a6e181723250212&q=${e.query}`)).json();e.results=s}else e.results=null},500)},c=async n=>{const t=await(await fetch(`https://api.weatherapi.com/v1/forecast.json?key=355022d7f3db4659a6e181723250212&q=id:${n}&days=5&aqi=no&alerts=no`)).json();u("place-data",t),e.query="",e.results=null};return(n,s)=>(r(),o("div",null,[a("form",null,[a("div",v,[s[1]||(s[1]=a("i",{class:"fa-solid fa-magnifying-glass p-2 text-sky-600"},null,-1)),y(a("input",{type:"text",placeholder:"Search for a place",class:"rounded-r-lg p-2 border-0 outline-0 focus:ring-2 focus:ring-sky-600 ring-inset w-full","onUpdate:modelValue":s[0]||(s[0]=t=>e.query=t),onInput:d},null,544),[[h,e.query]])])]),a("div",w,[e.results!==null?(r(),o("div",_,[(r(!0),o(f,null,g(e.results,t=>(r(),o("div",{key:t.id},[a("button",{onClick:b=>c(t.id),class:"px-3 my-2 hover:text-sky-600 hover:font-bold w-full text-left"},l(t.name)+", "+l(t.region)+", "+l(t.country),9,k)]))),128))])):p("",!0)])]))}};export{j as _};
